"use strict";(self.webpackChunklojadofilipe=self.webpackChunklojadofilipe||[]).push([[653],{4653:(T,p,s)=>{s.r(p),s.d(p,{BrandProductsComponent:()=>z});var a=s(2615),l=s(9295),g=s(4922),m=s(8132),f=s(6868),h=s(7195),t=s(3664);const _=()=>[Promise.all([s.e(200),s.e(283)]).then(s.bind(s,9283)).then(o=>o.ProductCardComponent)],b=(o,d)=>d.id;function x(o,d){if(1&o){const n=t.RV6();t.j41(0,"button",10),t.bIt("click",function(){const r=a.eBV(n).$implicit,i=t.XpG(3);return a.Njj(i.onSizeChange(r))}),t.EFF(1),t.k0s()}if(2&o){const n=d.$implicit,e=t.XpG(3);t.AVh("active",e.selectedSize()===n),t.R7$(),t.JRh(n)}}function v(o,d){if(1&o){const n=t.RV6();t.j41(0,"div",7)(1,"span",8),t.EFF(2,"Filtrar por tamanho:"),t.k0s(),t.Z7z(3,x,2,3,"button",9,t.fX1),t.j41(5,"button",10),t.bIt("click",function(){a.eBV(n);const r=t.XpG(2);return a.Njj(r.onSizeChange(""))}),t.EFF(6,"Todos"),t.k0s()()}if(2&o){const n=t.XpG(2);t.R7$(3),t.Dyx(n.sizes()),t.R7$(2),t.AVh("active",""===n.selectedSize())}}function C(o,d){if(1&o){const n=t.RV6();t.j41(0,"product-card",14),t.bIt("imageClicked",function(){const r=a.eBV(n).$implicit,i=t.XpG(3);return a.Njj(i.openImage(r))})("addToCartClicked",function(){const r=a.eBV(n).$implicit,i=t.XpG(3);return a.Njj(i.add(r))}),t.k0s()}if(2&o){const e=d.$index;t.Y8G("product",d.$implicit)("priority",0===e)}}function P(o,d){1&o&&(t.j41(0,"div",13),t.EFF(1,"Nenhum produto encontrado."),t.k0s())}function M(o,d){if(1&o&&(t.j41(0,"div",11),t.Z7z(1,C,1,2,"product-card",12,b),t.nVh(3,P,2,0,"div",13),t.k0s()),2&o){const n=t.XpG(2);t.R7$(),t.Dyx(n.filtered()),t.R7$(2),t.vxM(0===n.filtered().length?3:-1)}}function O(o,d){1&o&&(t.j41(0,"div",15),t.EFF(1,"Carregando produtos..."),t.k0s())}function w(o,d){if(1&o){const n=t.RV6();t.j41(0,"div",0)(1,"div",3)(2,"a",4),t.EFF(3,"\u2190 Voltar para Marcas"),t.k0s(),t.j41(4,"h2"),t.EFF(5),t.k0s(),t.j41(6,"div",5)(7,"input",6),t.bIt("input",function(r){a.eBV(n);const i=t.XpG();return a.Njj(i.onSearch(r.target.value))}),t.k0s(),t.nVh(8,v,7,2,"div",7),t.k0s()(),t.PeT(9,M,4,1)(10,O,2,0),t.nv$(11,9,_,null,10),t.g25(),t.k0s()}if(2&o){const n=t.XpG();t.R7$(5),t.JRh(n.brand()),t.R7$(2),t.Y8G("placeholder",t.VkB("Pesquisar produtos da marca ",n.brand(),"...")),t.jOp("aria-label",t.VkB("Pesquisar produtos da marca ",n.brand(),"...")),t.Y8G("value",n.search()),t.R7$(),t.vxM(n.sizes().length>1?8:-1)}}function k(o,d){1&o&&(t.j41(0,"div",1),t.EFF(1,"Marca n\xe3o encontrada. "),t.j41(2,"a",16),t.EFF(3,"Voltar"),t.k0s()())}function y(o,d){if(1&o){const n=t.RV6();t.j41(0,"div",17),t.bIt("click",function(r){a.eBV(n);const i=t.XpG();return a.Njj(i.onBackdrop(r))})("touchstart",function(r){a.eBV(n);const i=t.XpG();return a.Njj(i.onTouchStart(r))})("touchend",function(r){a.eBV(n);const i=t.XpG();return a.Njj(i.onTouchEnd(r))}),t.j41(1,"button",18),t.bIt("click",function(r){a.eBV(n);const i=t.XpG();return a.Njj(i.prev(r))}),t.EFF(2,"\u2039"),t.k0s(),t.nrm(3,"img",19),t.j41(4,"button",20),t.bIt("click",function(r){a.eBV(n);const i=t.XpG();return a.Njj(i.next(r))}),t.EFF(5,"\u203a"),t.k0s()()}if(2&o){const n=t.XpG();t.R7$(3),t.Y8G("src",n.selectedImage(),t.B4B)}}let z=(()=>{class o{selectedSize=(0,a.vPA)("");sizes=(0,l.EW)(()=>{const n=this.brand();if(!n)return[];const r=this.products().filter(c=>c.brand===n).map(c=>c.size).filter(c=>"string"==typeof c&&c.length>0),i=Array.from(new Set(r));return i.length>1?i:[]});onSizeChange(n){this.selectedSize.set(n)}route=(0,a.WQX)(g.nX);router=(0,a.WQX)(g.Ix);cart=(0,a.WQX)(f.m);products=(0,a.vPA)(h.z);brand=(0,a.vPA)(null);search=(0,a.vPA)("");selectedImage=(0,a.vPA)(null);touchStartX=0;touchEndX=0;currentIndex=(0,l.EW)(()=>{const n=this.selectedImage();return n?this.filtered().findIndex(e=>e.imageUrl===n):-1});nextIndex(n){const e=this.filtered();if(!e.length)return-1;let r=this.currentIndex();return-1===r?-1:(r=(r+n+e.length)%e.length,r)}constructor(){this.route.paramMap.subscribe(n=>{const e=n.get("brand");e&&this.products().some(i=>i.brand===e)?(this.brand.set(e),this.search.set("")):this.brand.set(null)})}filtered=(0,l.EW)(()=>{const n=this.brand();if(!n)return[];const e=this.search().toLowerCase().trim(),r=this.selectedSize(),i=e.split(/\s+/).filter(Boolean);return this.products().filter(c=>{if(c.brand!==n)return!1;const B=c.name.toLowerCase(),j=c.size?c.size.toLowerCase():"",E=i.every(u=>B.includes(u)||j.includes(u));return(!e||E)&&(!r||c.size===r)})});onSearch(n){this.search.set(n)}openImage(n){this.selectedImage.set(n.imageUrl)}closeImage(){this.selectedImage.set(null)}add(n){this.cart.add(n,1)}openImageUrl(n){this.selectedImage.set(n)}next(n){n?.stopPropagation();const e=this.nextIndex(1);e>=0&&this.selectedImage.set(this.filtered()[e].imageUrl)}prev(n){n?.stopPropagation();const e=this.nextIndex(-1);e>=0&&this.selectedImage.set(this.filtered()[e].imageUrl)}onBackdrop(n){n.target instanceof HTMLElement&&n.target.classList.contains("image-modal")&&this.closeImage()}onKey(n){this.selectedImage()&&("ArrowRight"===n.key?(this.next(),n.preventDefault()):"ArrowLeft"===n.key?(this.prev(),n.preventDefault()):"Escape"===n.key&&this.closeImage())}onTouchStart(n){1===n.touches.length&&(this.touchStartX=n.touches[0].clientX)}onTouchEnd(n){if(!this.touchStartX)return;this.touchEndX=n.changedTouches[0].clientX;const e=this.touchEndX-this.touchStartX;Math.abs(e)>40&&(e<0?this.next():this.prev()),this.touchStartX=0,this.touchEndX=0}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=t.VBU({type:o,selectors:[["brand-products"]],hostBindings:function(e,r){1&e&&t.bIt("keydown",function(c){return r.onKey(c)},t.EBC)},decls:3,vars:2,consts:[[1,"brand-products-view"],[2,"padding","2rem","text-align","center"],[1,"image-modal"],[1,"brand-header"],["routerLink","/",1,"back-to-brands"],[1,"search-row"],["type","search",1,"search-input",3,"input","placeholder","value","aria-label"],[1,"size-filter-chips"],[1,"size-filter-label"],["type","button",1,"size-chip",3,"active"],["type","button",1,"size-chip",3,"click"],[1,"product-list-grid"],[3,"product","priority"],[1,"no-products"],[3,"imageClicked","addToCartClicked","product","priority"],[2,"padding","2rem","text-align","center","color","var(--color-text-muted)"],["routerLink","/"],[1,"image-modal",3,"click","touchstart","touchend"],["type","button",1,"nav-arrow","prev",3,"click"],["alt","Product image",1,"modal-img",3,"src"],["type","button",1,"nav-arrow","next",3,"click"]],template:function(e,r){1&e&&(t.nVh(0,w,13,7,"div",0)(1,k,4,0,"div",1),t.nVh(2,y,6,1,"div",2)),2&e&&(t.vxM(r.brand()?0:1),t.R7$(2),t.vxM(r.selectedImage()?2:-1))},dependencies:[m.Wk],styles:['.size-filter-chips[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-left:0}.size-filter-label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500;color:var(--color-text-muted);margin-right:.5rem}.size-chip[_ngcontent-%COMP%]{background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-pill);padding:.25rem .7rem;font-size:.85rem;color:var(--color-text);cursor:pointer;transition:background var(--transition-fast),border-color var(--transition-fast),color var(--transition-fast)}.size-chip.active[_ngcontent-%COMP%]{background:var(--color-primary);color:#fff;border-color:var(--color-primary)}.size-chip[_ngcontent-%COMP%]:hover, .size-chip[_ngcontent-%COMP%]:focus{background:var(--color-primary-soft);border-color:var(--color-primary);color:var(--color-primary);outline:none}.size-filter[_ngcontent-%COMP%]{margin-left:1rem;display:flex;align-items:center}.size-select[_ngcontent-%COMP%]{padding:.45rem .7rem;border-radius:var(--radius-pill);border:1px solid var(--color-border);font-size:.95rem;background:var(--color-surface);color:var(--color-text);outline:none;transition:border-color var(--transition-fast),box-shadow var(--transition-fast)}.size-select[_ngcontent-%COMP%]:focus{border-color:var(--color-primary);box-shadow:var(--elev-focus)}.header-inner[_ngcontent-%COMP%]{position:relative}.brand-switcher[_ngcontent-%COMP%]{overflow-x:auto;white-space:nowrap;padding-bottom:.5rem}.brand-pill[_ngcontent-%COMP%]{margin-right:.5rem}.brand-select-list[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:2rem auto;text-align:center}.brand-select-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--color-primary);margin-bottom:1.5rem;letter-spacing:.5px}.brand-select-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem;justify-content:center}.brand-card[_ngcontent-%COMP%]{background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-lg);padding:1rem 2rem;font-size:1.15rem;font-weight:600;color:var(--color-text);cursor:pointer;box-shadow:var(--elev-1);transition:background var(--transition-medium),border-color var(--transition-fast),transform var(--transition-fast),box-shadow var(--transition-fast)}.brand-card[_ngcontent-%COMP%]:hover, .brand-card[_ngcontent-%COMP%]:focus{background:var(--color-primary-soft);border-color:var(--color-primary);box-shadow:var(--elev-2);transform:translateY(-2px)}.brand-card[_ngcontent-%COMP%]:focus{outline:none;box-shadow:var(--elev-focus)}.back-to-brands[_ngcontent-%COMP%]{background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-md);color:var(--color-primary);font-size:1rem;font-weight:500;cursor:pointer;padding:.6rem 1.1rem;line-height:1;display:inline-flex;align-items:center;gap:.5rem;box-shadow:var(--elev-1);transition:background var(--transition-fast),border-color var(--transition-fast),box-shadow var(--transition-fast);align-self:flex-start;position:sticky;top:.2rem;z-index:11}.back-to-brands[_ngcontent-%COMP%]:hover, .back-to-brands[_ngcontent-%COMP%]:focus{background:var(--color-primary-soft);border-color:var(--color-primary);box-shadow:var(--elev-2)}.back-to-brands[_ngcontent-%COMP%]:focus{outline:none;box-shadow:var(--elev-focus)}.product-list[_ngcontent-%COMP%]{width:100%;padding:2.5rem 0 3rem;display:flex;flex-direction:column;align-items:center;background:var(--color-bg)}.search-bar[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:0 auto 2rem;display:flex;justify-content:center}.search-input[_ngcontent-%COMP%]{width:70%;max-width:320px;padding:.45rem .7rem;border-radius:var(--radius-pill);border:1px solid var(--color-border);font-size:.95rem;background:var(--color-surface);box-shadow:0 2px 8px -2px #00000014;outline:none;transition:border-color var(--transition-fast),box-shadow var(--transition-fast);color:var(--color-text)}.search-input[_ngcontent-%COMP%]:focus{border-color:var(--color-primary);box-shadow:var(--elev-focus)}.brand-section-list[_ngcontent-%COMP%]{width:100%;max-width:1200px}.brand-section[_ngcontent-%COMP%]{margin-bottom:2.5rem}.brand-header[_ngcontent-%COMP%]{top:calc(var(--header-inner-height, 67px) + 8px);position:sticky;width:100%;font-size:2rem;font-weight:700;color:var(--color-primary);padding:1.1rem 1rem .85rem;border-bottom:1px solid var(--color-border);background:linear-gradient(135deg,var(--color-surface) 0%,var(--color-primary-soft) 90%);z-index:100;box-shadow:0 4px 16px -2px #00000014,var(--elev-1);display:flex;flex-direction:column;gap:.55rem;border-top-left-radius:var(--radius-lg);border-top-right-radius:var(--radius-lg);-webkit-backdrop-filter:saturate(1.2) blur(4px);backdrop-filter:saturate(1.2) blur(4px)}.brand-header-top[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;gap:1rem;flex-wrap:wrap}.title-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.3rem}.title-block[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;line-height:1.15}.counts[_ngcontent-%COMP%]{font-size:.55rem;font-weight:700;letter-spacing:.5px;color:var(--color-text-muted);display:flex;align-items:center;gap:.4rem;text-transform:uppercase}.counts[_ngcontent-%COMP%]   .sep[_ngcontent-%COMP%]{opacity:.5}.bulk-add-btn[_ngcontent-%COMP%]{background:var(--color-accent-gradient);color:#fff;border:none;padding:.55rem .95rem .5rem;border-radius:var(--radius-pill);font-size:.6rem;font-weight:700;letter-spacing:.6px;cursor:pointer;box-shadow:0 2px 6px -1px rgba(var(--color-shadow-rgb)/.25);display:inline-flex;align-items:center;gap:.45rem;transition:filter var(--transition-fast),transform var(--transition-fast),box-shadow var(--transition-fast)}.bulk-add-btn[_ngcontent-%COMP%]:hover, .bulk-add-btn[_ngcontent-%COMP%]:focus{filter:brightness(1.07);outline:none;box-shadow:0 4px 14px -3px rgba(var(--color-shadow-rgb)/.35)}.bulk-add-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.bulk-add-btn[_ngcontent-%COMP%]:disabled{opacity:.45;cursor:not-allowed;filter:none;box-shadow:none}.search-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.35rem;flex-wrap:nowrap}@media (max-width: 600px){.search-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:1.35rem}.size-filter-chips[_ngcontent-%COMP%]{margin-left:0}}.brand-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.9rem;letter-spacing:.5px;display:inline-flex;align-items:center;gap:.6rem}.brand-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{content:"";width:14px;height:14px;border-radius:50%;background:var(--color-primary);box-shadow:0 0 0 4px #1d60b526}.brand-header[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{margin:0;width:100%}.brand-header[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{box-shadow:none;border:1px solid var(--color-border)}.brand-header[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{box-shadow:var(--elev-focus)}.brand-products-view[_ngcontent-%COMP%]{z-index:101;max-width:1200px;margin:0 auto}.image-modal[_ngcontent-%COMP%]{position:fixed;inset:0;width:100vw;height:100vh;background:#000000b8;display:flex;align-items:center;justify-content:center;z-index:1000;-webkit-backdrop-filter:blur(2px) saturate(1.1);backdrop-filter:blur(2px) saturate(1.1);animation:_ngcontent-%COMP%_fadeIn .16s ease}.modal-img-wrapper[_ngcontent-%COMP%]{position:relative;max-width:480px;width:100%;display:flex;flex-direction:column;align-items:center;gap:1rem}.modal-img[_ngcontent-%COMP%]{width:100%;max-width:420px;height:auto;max-height:56vh;object-fit:contain;border-radius:var(--radius-lg);box-shadow:var(--elev-2);animation:_ngcontent-%COMP%_scaleIn .18s cubic-bezier(.4,0,.2,1)}.modal-info[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;gap:.55rem;background:linear-gradient(145deg,var(--color-surface) 0%,var(--color-surface-alt) 85%);padding:.9rem 1.15rem 1.05rem;border-radius:var(--radius-lg);box-shadow:var(--elev-2);width:100%}.modal-bottom-actions[_ngcontent-%COMP%]{position:fixed;left:0;right:0;bottom:0;width:100vw;display:flex;justify-content:center;background:linear-gradient(180deg,transparent 0%,var(--color-surface) 80%);padding:1.2rem 0 1.6rem;z-index:9999;pointer-events:auto}.modal-add-btn.floating[_ngcontent-%COMP%]{position:relative;z-index:2;background:var(--color-accent-gradient);color:#fff;border:none;padding:.85rem 2.2rem .8rem;font-size:1rem;font-weight:700;letter-spacing:.7px;border-radius:var(--radius-pill);cursor:pointer;box-shadow:0 4px 18px -2px rgba(var(--color-shadow-rgb)/.25);transition:filter var(--transition-fast),transform var(--transition-fast),box-shadow var(--transition-fast)}.modal-add-btn.floating[_ngcontent-%COMP%]:hover, .modal-add-btn.floating[_ngcontent-%COMP%]:focus{filter:brightness(1.07);outline:none;box-shadow:0 8px 24px -3px rgba(var(--color-shadow-rgb)/.35)}.modal-add-btn.floating[_ngcontent-%COMP%]:active{transform:translateY(1px)}.modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.05rem;letter-spacing:.6px;text-align:center}.modal-price[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;background:var(--color-primary-gradient);-webkit-background-clip:text;background-clip:text;color:transparent}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:.65rem;margin-top:.25rem}.modal-add-btn[_ngcontent-%COMP%]{background:var(--color-accent-gradient);color:#fff;border:none;padding:.65rem 1.1rem .6rem;font-size:.7rem;font-weight:700;letter-spacing:.6px;border-radius:var(--radius-pill);cursor:pointer;box-shadow:0 2px 6px -1px rgba(var(--color-shadow-rgb)/.25);transition:filter var(--transition-fast),transform var(--transition-fast),box-shadow var(--transition-fast)}.modal-add-btn[_ngcontent-%COMP%]:hover, .modal-add-btn[_ngcontent-%COMP%]:focus{filter:brightness(1.07);outline:none;box-shadow:0 4px 14px -3px rgba(var(--color-shadow-rgb)/.35)}.modal-add-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.modal-close-btn[_ngcontent-%COMP%]{position:absolute;top:.4rem;right:.45rem;background:none;border:none;color:var(--color-text-muted);font-size:1rem;cursor:pointer;line-height:1;padding:.25rem}.modal-close-btn[_ngcontent-%COMP%]:hover, .modal-close-btn[_ngcontent-%COMP%]:focus{color:var(--color-text)}.nav-arrow[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:#00000073;color:#fff;border:none;width:48px;height:48px;border-radius:50%;font-size:2rem;line-height:1;cursor:pointer;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);transition:background var(--transition-fast),transform var(--transition-fast)}.nav-arrow[_ngcontent-%COMP%]:hover, .nav-arrow[_ngcontent-%COMP%]:focus{background:#000000a6;outline:none}.nav-arrow.prev[_ngcontent-%COMP%]{left:2%}.nav-arrow.next[_ngcontent-%COMP%]{right:2%}@media (max-width: 600px){.nav-arrow[_ngcontent-%COMP%]{width:42px;height:42px;font-size:1.7rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_scaleIn{0%{transform:scale(.92);opacity:0}to{transform:scale(1);opacity:1}}.product-list-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:1.75rem;width:100%;margin-top:2.5rem;margin-bottom:5rem}@media (max-width: 900px){.product-list-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:1.4rem}.brand-header[_ngcontent-%COMP%]{font-size:1.5rem;padding:.75rem .75rem .85rem}.brand-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem}}@media (max-width: 600px){.product-list-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.product-list[_ngcontent-%COMP%]{padding:1.25rem 0 2rem}.brand-header[_ngcontent-%COMP%]{font-size:1.15rem;padding:.6rem .55rem .75rem}.brand-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.15rem}}'],changeDetection:0})}return o})()}}]);