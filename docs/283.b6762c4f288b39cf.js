"use strict";(self.webpackChunklojadofilipe=self.webpackChunklojadofilipe||[]).push([[283],{9283:(w,p,i)=>{i.r(p),i.d(p,{ProductCardComponent:()=>O});var d=i(7705),c=i(2615),_=i(9295),b=i(2200),h=i(177),v=i(8397),C=i(6868),t=i(3664);function x(e,s){1&e&&(t.j41(0,"span",2),t.EFF(1,"NOVO"),t.k0s())}function P(e,s){if(1&e&&(t.j41(0,"span",6),t.EFF(1),t.k0s()),2&e){let r;const o=t.XpG();t.R7$(),t.SpI(" ",null==(r=o.product())?null:r.size)}}function y(e,s){if(1&e){const r=t.RV6();t.j41(0,"button",10),t.bIt("click",function(n){c.eBV(r);const a=t.XpG();return c.Njj(a.addToCart(n))}),t.EFF(1,"Adicionar"),t.k0s()}}function M(e,s){if(1&e){const r=t.RV6();t.j41(0,"div",9)(1,"button",11),t.bIt("click",function(n){c.eBV(r);const a=t.XpG();return c.Njj(a.decrement(n))}),t.EFF(2,"\u2212"),t.k0s(),t.j41(3,"span",12),t.EFF(4),t.k0s(),t.j41(5,"button",13),t.bIt("click",function(n){c.eBV(r);const a=t.XpG();return c.Njj(a.increment(n))}),t.EFF(6,"+"),t.k0s()()}if(2&e){const r=t.XpG();t.R7$(4),t.JRh(r.qty())}}let O=(()=>{class e{product=(0,d.hFB)();priority=(0,d.hFB)(!1);imageClicked=(0,d.CGW)();addToCartClicked=(0,d.CGW)();currency=new b.oe("en");toast=(0,c.WQX)(v.f);cart=(0,c.WQX)(C.m);lastAddTs=0;qty=(0,_.EW)(()=>{const r=this.product();return r?this.cart.items().find(o=>o.id===r.id&&o.size===r.size)?.qty??0:0});showImage(){this.imageClicked.emit()}addToCart(r){r.stopPropagation();const o=performance.now();if(o-this.lastAddTs<250)return;this.lastAddTs=o,this.addToCartClicked.emit();const n=this.product()?.name?.toUpperCase()??"PRODUTO",a=this.product();a?(0===this.qty()&&this.cart.add(a,1),this.toast.show(`${n}${a.size?" "+a.size:""} adicionado ao carrinho`,{timeout:2e3})):this.toast.show("Erro ao adicionar produto")}increment(r){r.stopPropagation();const o=this.product();o&&(this.cart.add(o,1),this.toast.show(`${o.name.toUpperCase()}${o.size?" "+o.size:""} adicionado ao carrinho`,{timeout:2e3}))}decrement(r){r.stopPropagation();const o=this.product();if(!o)return;const n=this.qty();n<=1?(this.cart.remove(o.id,o.size),this.toast.show(`${o.name.toUpperCase()}${o.size?" "+o.size:""} removido do carrinho`,{timeout:2e3})):(this.cart.setQuantity(o.id,n-1,o.size),this.toast.show(`${o.name.toUpperCase()}${o.size?" "+o.size:""} removido do carrinho`,{timeout:2e3}))}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=t.VBU({type:e,selectors:[["product-card"]],hostAttrs:["tabindex","0","role","group",1,"product-card"],inputs:{product:[1,"product"],priority:[1,"priority"]},outputs:{imageClicked:"imageClicked",addToCartClicked:"addToCartClicked"},decls:12,vars:9,consts:[[1,"card-content"],[1,"media-wrapper",3,"click"],["aria-label","Novo","title","Novo",1,"badge-new"],["ngOptimizedImage","","width","210","height","280",1,"product-image",3,"ngSrc","priority","alt"],[1,"product-info"],[1,"product-name"],[1,"product-size"],[1,"product-price"],["type","button",1,"add-cart-btn"],["aria-label","Quantidade no carrinho",1,"qty-controls"],["type","button",1,"add-cart-btn",3,"click"],["type","button","aria-label","Remover 1",1,"qty-btn","dec",3,"click"],["aria-live","polite",1,"qty"],["type","button","aria-label","Adicionar 1",1,"qty-btn","inc",3,"click"]],template:function(o,n){if(1&o&&(t.j41(0,"div",0)(1,"div",1),t.bIt("click",function(){return n.showImage()}),t.nVh(2,x,2,0,"span",2),t.nrm(3,"img",3),t.k0s(),t.j41(4,"div",4)(5,"span",5),t.EFF(6),t.nVh(7,P,2,1,"span",6),t.k0s(),t.j41(8,"span",7),t.EFF(9),t.k0s(),t.nVh(10,y,2,0,"button",8)(11,M,7,1,"div",9),t.k0s()()),2&o){let a,u,m,l,g,f;t.R7$(2),t.vxM(null!=(a=n.product())&&a.isNew?2:-1),t.R7$(),t.Y8G("alt",t.mNQ(null==(u=n.product())?null:u.name))("ngSrc",(null==(m=n.product())?null:m.imageUrl)??"")("priority",n.priority),t.R7$(3),t.SpI(" ",null==(l=n.product())||null==l.name?null:l.name.toUpperCase()," "),t.R7$(),t.vxM(null!=(g=n.product())&&g.size?7:-1),t.R7$(2),t.SpI("",null==(f=n.product())?null:f.price," \u20ac"),t.R7$(),t.vxM(0===n.qty()?10:11)}},dependencies:[h.kt],styles:['product-card[_ngcontent-%COMP%], .product-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:1.05rem 1.1rem 1.25rem;border-radius:var(--radius-lg);background:linear-gradient(145deg,var(--color-surface) 0%,var(--color-surface-alt) 85%);position:relative;cursor:pointer;border:1px solid rgba(var(--color-shadow-rgb)/.07);box-shadow:var(--elev-1);transition:box-shadow var(--transition-medium),transform var(--transition-medium),border-color var(--transition-fast),background var(--transition-medium);isolation:isolate}.badge-new[_ngcontent-%COMP%]{position:absolute;top:4px;left:4px;background:linear-gradient(135deg,var(--color-accent, #ff6633),#ff914d);color:#fff;font-size:.55rem;font-weight:700;padding:.3rem .48rem .28rem;border-radius:999px;letter-spacing:.7px;box-shadow:0 2px 4px -1px #00000040,0 0 0 1px #ffffff26 inset;display:inline-flex;align-items:center;gap:.25rem;z-index:3;animation:_ngcontent-%COMP%_badgePop .55s cubic-bezier(.4,0,.25,1);pointer-events:none}.badge-new[_ngcontent-%COMP%]:before{content:"";width:6px;height:6px;background:#fff;border-radius:50%;box-shadow:0 0 0 3px #ffffff40;opacity:.9}@keyframes _ngcontent-%COMP%_badgePop{0%{transform:scale(.4);opacity:0}60%{transform:scale(1.15);opacity:1}to{transform:scale(1)}}.product-card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:10%;bottom:10%;right:0;width:0;box-shadow:1px 0 rgba(var(--color-shadow-rgb),.12);pointer-events:none}.product-card[_ngcontent-%COMP%]:hover:after, .product-card[_ngcontent-%COMP%]:focus:after{box-shadow:none}@media (max-width: 600px){.product-card[_ngcontent-%COMP%]:after{display:none}}.product-card[_ngcontent-%COMP%]:hover, .product-card[_ngcontent-%COMP%]:focus{box-shadow:var(--elev-2);transform:translateY(-5px);border-color:var(--color-primary)}.product-card[_ngcontent-%COMP%]:focus{outline:none;box-shadow:var(--elev-focus),var(--elev-2)}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}.media-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;width:210px;aspect-ratio:3/4;align-items:center;justify-content:center;overflow:hidden;border-radius:var(--radius-md);background:#f1f5f8;box-shadow:0 4px 10px -2px rgba(var(--color-shadow-rgb)/.15);margin-bottom:.7rem}.product-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block;transition:transform var(--transition-medium)}.product-card[_ngcontent-%COMP%]:hover   .product-image[_ngcontent-%COMP%]{transform:scale(1.02)}.product-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.product-price[_ngcontent-%COMP%]{-webkit-text-fill-color:transparent;color:var(--color-primary);background:var(--color-primary-gradient);-webkit-background-clip:text;background-clip:text;color:transparent;font-size:1.15rem;font-weight:700;letter-spacing:.6px;margin-bottom:.35rem;display:inline-block}.add-cart-btn[_ngcontent-%COMP%]{position:relative;overflow:hidden;margin-top:.3rem;background:var(--color-accent-gradient);color:#fff;border:none;padding:.55rem 1.05rem;border-radius:var(--radius-pill);font-size:.7rem;font-weight:700;letter-spacing:.65px;cursor:pointer;transition:box-shadow var(--transition-fast),transform var(--transition-fast),filter var(--transition-fast);box-shadow:0 2px 6px -1px rgba(var(--color-shadow-rgb)/.25),0 0 0 1px rgba(var(--color-shadow-rgb)/.07) inset}.add-cart-btn[_ngcontent-%COMP%]:hover, .add-cart-btn[_ngcontent-%COMP%]:focus{filter:brightness(1.05);box-shadow:0 4px 14px -2px rgba(var(--color-shadow-rgb)/.3);outline:none}.add-cart-btn[_ngcontent-%COMP%]:active{transform:translateY(1px) scale(.97)}.add-cart-btn[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:radial-gradient(circle at var(--x, 50%) var(--y, 50%),rgba(255,255,255,.55),transparent 55%);opacity:0;transition:opacity .4s ease}.add-cart-btn[_ngcontent-%COMP%]:focus-visible:after{opacity:.35}.add-cart-btn[_ngcontent-%COMP%]:active:after{opacity:.65;transition:none}.qty-controls[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.55rem;background:linear-gradient(135deg,var(--color-surface-alt) 0%,var(--color-surface) 85%);padding:.4rem .65rem;border-radius:var(--radius-pill);border:1px solid var(--color-border);box-shadow:var(--elev-1);margin-top:.35rem}.qty[_ngcontent-%COMP%]{min-width:1.4rem;text-align:center;font-weight:700;font-size:.8rem;letter-spacing:.5px;color:var(--color-text-strong, #0d2235)}.qty-btn[_ngcontent-%COMP%]{background:var(--color-primary-soft);border:1px solid var(--color-border);color:var(--color-primary);width:1.75rem;height:1.75rem;border-radius:50%;font-size:1rem;display:flex;align-items:center;justify-content:center;cursor:pointer;font-weight:600;line-height:1;padding:0;transition:background var(--transition-fast),border-color var(--transition-fast),box-shadow var(--transition-fast),transform var(--transition-fast)}.qty-btn[_ngcontent-%COMP%]:hover, .qty-btn[_ngcontent-%COMP%]:focus{background:var(--color-primary);color:#fff;border-color:var(--color-primary);box-shadow:var(--elev-2);outline:none}.qty-btn[_ngcontent-%COMP%]:active{transform:translateY(1px) scale(.92)}.qty-btn.dec[_ngcontent-%COMP%]{font-size:1.1rem}.qty-btn.inc[_ngcontent-%COMP%]{font-size:1.05rem}@media (max-width: 640px){.media-wrapper[_ngcontent-%COMP%]{width:100%;max-width:240px}}'],changeDetection:0})}return e})()}}]);